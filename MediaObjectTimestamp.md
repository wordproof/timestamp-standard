# MediaObjectTimestamp

Current Version: 0.2.0

## Changelog
0.2.0
- Draft of MediaObjectTimestamp

## Goal

This kind of object is inspired by [schema.org MediaObject](https://schema.org/MediaObject). This object is not limited by audio, video or image, but can represent a PDF document as well.

## Creating the hash

The hash that is put into the blockchain is generated by hashing a JSON object containing properties and attributes. Currently, the hashing algorithm used is SHA-256.

```json
{
  "type": "MediaObjectTimestamp",
  "version": "0.2.0",
  "title": "My Blog Title",
  "contentHash": "8C9453EF2C0C6F2F94104D16FF0A8105BC6C9793D926457839D8BCADE0888342",
  "contentUrl": "https://test.com/image.png",
  "encodingFormat": "image/png",
  "date": "2019-07-08T08:38:23+0000"
}
```

The `contentHash` can be calculated using utilities like `sha256sum` or `openssl`.

The SHA-256 hash of the minified JSON example is `8f3bc404b509d6fabfa34ca6b2f5a39f23c8d14ae531bf94041928d0749c57ca`. This hash needs to be posted to the blockchain. The transaction id of the transaction that is included in the blockchain, which contains this hash, needs to be saved together with the used properties and attributes. 

### Properties

Properties are required fields for every MediaObjectTimestamp. 

`type` - String, The type used

`version` - String, The version of the type used

`title` - String, Text

`contentHash` - String, Text, SHA256 hash of the media object

`contentUrl` - String, Text

`encodingFormat` - String, Text, MIME

`date` - String, ISO 8601, the last date of the item being modified in the source before timestamping it

### Attributes

Attributes can be included, but are optional. Only items included in the standard can be added to the JSON object, in **alphabetical order, after the last property**. If the value of an attribute is empty, it should not be included in the object.

## Including into DOM

It should be clear how and what data was used when generating the hash. We are using JSON-LD to declare the variables that were used for creating the JSON object and include our generated hash and information of the blockchain which contains this hash. 

With the included information in the JSON-LD object, third-parties can compare their and your results themselves.

A MediaObjectTimestamp can contain other objects of the same type, which are referred to as revisions. The **parent object always contains information about the most recent version of the article**.

```json
{ todo }
```

## Including to blockchain

The implementation will differ per blockchain. Please include the following fields. 

`hash` - String, SHA-256 hash of the article 
`previousTransactionId` - Optional, String - Blockchain Transaction Id with hash of the previous revision.

Optionally you can include a memo including an url to enhance the user experience.
